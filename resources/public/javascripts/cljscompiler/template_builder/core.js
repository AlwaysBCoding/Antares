// Compiled by ClojureScript 0.0-2277
goog.provide('template_builder.core');
goog.require('cljs.core');
goog.require('antares.postrender');
goog.require('antares.postrender');
goog.require('antares.core');
goog.require('antares.core');
template_builder.core.load_html_fn = (function load_html_fn(){var template_id = (17592186045418);antares.core.get.call(null,("http://localhost:8989/template/"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(template_id)),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"handler","handler",-195596612),((function (template_id){
return (function (response){return antares.core.update_cursor.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"html-fn","html-fn",-1459449141)], null),((function (template_id){
return (function (old_data){return new cljs.core.Keyword(null,"html-fn","html-fn",-1459449141).cljs$core$IFn$_invoke$arity$1(antares.core.read_string.call(null,response));
});})(template_id))
);
});})(template_id))
], null));
return "Loading...";
});
template_builder.core.load_css_data = (function load_css_data(){var template_id = (17592186045418);antares.core.get.call(null,("http://localhost:8989/template/"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(template_id)),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"handler","handler",-195596612),((function (template_id){
return (function (response){return antares.core.update_cursor.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"css-data","css-data",2133231584)], null),((function (template_id){
return (function (old_data){return new cljs.core.Keyword(null,"css-data","css-data",2133231584).cljs$core$IFn$_invoke$arity$1(antares.core.read_string.call(null,response));
});})(template_id))
);
});})(template_id))
], null));
return "Loading...";
});
template_builder.core.load_test_data = (function load_test_data(){var template_id = (17592186045418);antares.core.get.call(null,("http://localhost:8989/template/"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(template_id)),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"handler","handler",-195596612),((function (template_id){
return (function (response){return antares.core.update_cursor.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"test-data","test-data",805102338)], null),((function (template_id){
return (function (old_data){return new cljs.core.Keyword(null,"test-data","test-data",805102338).cljs$core$IFn$_invoke$arity$1(antares.core.read_string.call(null,response));
});})(template_id))
);
});})(template_id))
], null));
return "Loading...";
});
template_builder.core.compile_template_BANG_ = (function compile_template_BANG_(){var template = cljs.core.get_in.call(null,cljs.core.deref.call(null,antares.core.app_state),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"html-fn","html-fn",-1459449141)], null));var test_data = cljs.core.get_in.call(null,cljs.core.deref.call(null,antares.core.app_state),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"test-data","test-data",805102338)], null));return antares.core.post.call(null,"http://localhost:8989/compile-template",new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"params","params",710516235),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"compile-data","compile-data",-1472149691),test_data,new cljs.core.Keyword(null,"template","template",-702405684),template], null),new cljs.core.Keyword(null,"handler","handler",-195596612),((function (template,test_data){
return (function (response){return antares.core.update_cursor.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"compiled-template","compiled-template",846791827)], null),((function (template,test_data){
return (function (old_value){return response;
});})(template,test_data))
);
});})(template,test_data))
], null));
});
template_builder.core.compile_css_BANG_ = (function compile_css_BANG_(){var css_data = cljs.core.get_in.call(null,cljs.core.deref.call(null,antares.core.app_state),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"css-data","css-data",2133231584)], null));var target_node = document.querySelector(".template-css-render");return target_node.innerHTML = antares.core.compile_css.call(null,css_data);
});
template_builder.core.save_template_BANG_ = (function save_template_BANG_(event){var template_id = (17592186045418);var html_fn = cljs.core.get_in.call(null,cljs.core.deref.call(null,antares.core.app_state),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"html-fn","html-fn",-1459449141)], null));var css_data = cljs.core.get_in.call(null,cljs.core.deref.call(null,antares.core.app_state),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"css-data","css-data",2133231584)], null));var test_data = cljs.core.get_in.call(null,cljs.core.deref.call(null,antares.core.app_state),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"test-data","test-data",805102338)], null));return antares.core.post.call(null,("http://localhost:8989/template/"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(template_id)+"/save"),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"params","params",710516235),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"eid","eid",559519930),template_id,new cljs.core.Keyword(null,"html-fn","html-fn",-1459449141),html_fn,new cljs.core.Keyword(null,"css-data","css-data",2133231584),css_data,new cljs.core.Keyword(null,"test-data","test-data",805102338),test_data], null),new cljs.core.Keyword(null,"handler","handler",-195596612),((function (template_id,html_fn,css_data,test_data){
return (function (response){return console.log(response);
});})(template_id,html_fn,css_data,test_data))
], null));
});
antares.core.create_component.call(null,new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"ident","ident",-742346),new cljs.core.Keyword(null,"html-fn","html-fn",-1459449141),new cljs.core.Keyword(null,"data-type","data-type",-326421468),"string",new cljs.core.Keyword(null,"app-cursor","app-cursor",1859881648),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"html-fn","html-fn",-1459449141)], null),new cljs.core.Keyword(null,"dom-cursor","dom-cursor",-1375555677),"#html-fn",new cljs.core.Keyword(null,"initialize-fn","initialize-fn",793125733),template_builder.core.load_html_fn,new cljs.core.Keyword(null,"render-fn","render-fn",398796518),(function (data){return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"textarea","textarea",-650375824),data], null);
}),new cljs.core.Keyword(null,"post-render-fn","post-render-fn",-99818496),antares.postrender.textarea__GT_codemirror.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"html-fn","html-fn",-1459449141)], null),"#html-fn textarea")], null));
antares.core.create_component.call(null,new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"ident","ident",-742346),new cljs.core.Keyword(null,"css-data","css-data",2133231584),new cljs.core.Keyword(null,"data-type","data-type",-326421468),"string",new cljs.core.Keyword(null,"app-cursor","app-cursor",1859881648),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"css-data","css-data",2133231584)], null),new cljs.core.Keyword(null,"dom-cursor","dom-cursor",-1375555677),"#css-data",new cljs.core.Keyword(null,"initialize-fn","initialize-fn",793125733),template_builder.core.load_css_data,new cljs.core.Keyword(null,"render-fn","render-fn",398796518),(function (data){return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"textarea","textarea",-650375824),data], null);
}),new cljs.core.Keyword(null,"post-render-fn","post-render-fn",-99818496),antares.postrender.textarea__GT_codemirror.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"css-data","css-data",2133231584)], null),"#css-data textarea")], null));
antares.core.create_component.call(null,new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"ident","ident",-742346),new cljs.core.Keyword(null,"test-data","test-data",805102338),new cljs.core.Keyword(null,"data-type","data-type",-326421468),"string",new cljs.core.Keyword(null,"app-cursor","app-cursor",1859881648),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"test-data","test-data",805102338)], null),new cljs.core.Keyword(null,"dom-cursor","dom-cursor",-1375555677),"#test-data",new cljs.core.Keyword(null,"initialize-fn","initialize-fn",793125733),template_builder.core.load_test_data,new cljs.core.Keyword(null,"render-fn","render-fn",398796518),(function (data){return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"textarea","textarea",-650375824),data], null);
}),new cljs.core.Keyword(null,"post-render-fn","post-render-fn",-99818496),antares.postrender.textarea__GT_codemirror.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"test-data","test-data",805102338)], null),"#test-data textarea")], null));
antares.core.create_component.call(null,new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"ident","ident",-742346),new cljs.core.Keyword(null,"compiled-template","compiled-template",846791827),new cljs.core.Keyword(null,"data-type","data-type",-326421468),"string",new cljs.core.Keyword(null,"app-cursor","app-cursor",1859881648),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"compiled-template","compiled-template",846791827)], null),new cljs.core.Keyword(null,"dom-cursor","dom-cursor",-1375555677),"#compiled-template-render",new cljs.core.Keyword(null,"initialize-fn","initialize-fn",793125733),(function (){return "[:div.template]";
}),new cljs.core.Keyword(null,"render-fn","render-fn",398796518),(function (data){return antares.core.read_string.call(null,data);
})], null));
antares.core.create_component.call(null,new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"ident","ident",-742346),new cljs.core.Keyword(null,"save-template-button","save-template-button",-703009378),new cljs.core.Keyword(null,"data-type","data-type",-326421468),"string",new cljs.core.Keyword(null,"app-cursor","app-cursor",1859881648),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"save-template-button-text","save-template-button-text",-2064597581)], null),new cljs.core.Keyword(null,"dom-cursor","dom-cursor",-1375555677),"#save-template-action",new cljs.core.Keyword(null,"initialize-fn","initialize-fn",793125733),(function (){return "Save Template";
}),new cljs.core.Keyword(null,"render-fn","render-fn",398796518),(function (data){return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"ui button"], null),data], null);
}),new cljs.core.Keyword(null,"interactions","interactions",550841811),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"event-type","event-type",319722813),"click",new cljs.core.Keyword(null,"event-action","event-action",-974748529),template_builder.core.save_template_BANG_], null)], null)], null));
antares.core.create_data_watcher.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"ident","ident",-742346),new cljs.core.Keyword(null,"compile-template-from-html","compile-template-from-html",-487739134),new cljs.core.Keyword(null,"app-cursor","app-cursor",1859881648),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"html-fn","html-fn",-1459449141)], null),new cljs.core.Keyword(null,"watch-fn","watch-fn",-1286682217),template_builder.core.compile_template_BANG_], null));
antares.core.create_data_watcher.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"ident","ident",-742346),new cljs.core.Keyword(null,"compile-template-from-test-data","compile-template-from-test-data",1845379200),new cljs.core.Keyword(null,"app-cursor","app-cursor",1859881648),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"test-data","test-data",805102338)], null),new cljs.core.Keyword(null,"watch-fn","watch-fn",-1286682217),template_builder.core.compile_template_BANG_], null));
antares.core.create_data_watcher.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"ident","ident",-742346),new cljs.core.Keyword(null,"compile-css-data","compile-css-data",1897184449),new cljs.core.Keyword(null,"app-cursor","app-cursor",1859881648),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"css-data","css-data",2133231584)], null),new cljs.core.Keyword(null,"watch-fn","watch-fn",-1286682217),template_builder.core.compile_css_BANG_], null));

//# sourceMappingURL=core.js.map